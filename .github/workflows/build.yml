name: Build con CMake y NMake

on: [push, pull_request]  # Se ejecuta en cada push o PR

jobs:
  build:
    runs-on: windows-latest  # Usa Windows porque necesitamos Visual Studio

    steps:
      - name: 📥 Clonar el repositorio
        uses: actions/checkout@v4

      - name: 🛠️ Configurar Visual Studio
        uses: ilammy/msvc-dev-cmd@v1  # Habilita Visual Studio para usar NMake

      - name: 🏗️ Configurar CMake
        run: cmake -B build -S . -G "NMake Makefiles"

      - name: 🚀 Compilar con NMake
        run: cmake --build build --config Release
